### 什么是模块？
在es6出来前，ts有一套自己的模块系统，叫做内部模块
es6出来后, 现在内部模块叫做命名空间，并引用了es6的模块，叫做外部模块，简称模块

### 如何区别命名空间和模块？
包含import、export 关键字的就是模块

### 模块
与es6 一样使用费import导入 export 导出
ts支出导出任何声明（比如变量，函数，类，类型别名或接口）
``` typescript 

  // ./a.ts
  export function todo() {}
  // ./b.ts
  import {todo} from './a'

```

#### 如何鉴别以及兼容commonjs模块与ts模块?

commonjs有自己的一套模块通常使用
``` typescript
  // ./a.js
  module.exports = {
    add() {}
  } 
  // 或 
  exports.add = function () {}
  // ./b.js
  const method = require('./a')
  method.add()
```
对于这种情况ts用import =、export = 来处理，也可以import * as，关于这个为什么要这样处理，这里涉及到ts编译的问题
``` typescript
  
  // module commomjs情况下
  // import * as XXX from 'xxx' 会编译成XXX对象   
  // import XXX from 'xxx' 会编译成XXX.default
  // import XXX = require('xxx') 会编译成XXX对象
  // 以上三种都会编译为
  const xxx = require('xxx')
  // 但是后续es模块编译后会认为这是默认导出调用时会xxx.default.xxxx来调用
```

``` typescript
  
  // ./a.js
  module.exports = {
    add() {}
  } 
  // 或 
  exports.add = function () {}
  // ./b.js
  const method = require('./a')
  method.add()

```

### 关于模块和打包
1、Tsc打包默认不包括node_modules里面的工具通常是编译src下文件就交给webpack 处理  
2、Module 配置决定输出的模式  
3、Moduleresoulution 默认module决定 可选classic或node  
4、Module commonjs时编译模块为require 其余 import  
5、通常ts默认会编译Tsconfig下的所有文件， 指定了files和include 只会编译该文件  
6、引用js时会找同目录相同名的声明文件Types默认nodes_modules下@types  
7、关于typeroot这个是自动引入这里是与node的包引入的同一效果即typeroot: ['./types']加载所有文件夹 types加载指定文件夹 /types/package 会尝试该目录寻找index.d.ts 或package.json  
8、typescript 编译器不会转换处理path这里需要webpack配合使用，即使配置了path，如本项目的
"paths": {
  "@/*": ["*"],
}

``` typescript
  
  import xxx from '@/src/index'
  // ts编译后
  const xxx = require('@/src/index')
```

### 命名空间


<!-- 若ts文件中存在declare 和 import 或 export 则为局部模块 没有export 只有declare则为全局模块
 






类型保护 typeof  instanceof 断言 谓词

索引类型查询 keyof 返回公共属性名联合 a: {b: number, c: number} keyof a => b|c

不提倡在namespace 使用模块
Namespace /// <reference path=””/> declare下 export无效默认命名空间内全部可见
/// <reference types=””/> 声明依赖
Module ‘ddd’ 只能在环境模块声明 即declare下不能出现import export
Module ddd 与namespace一致

Export =    import = require()用来导出common amd模块 export = 只能单独使用
Export as namespace umd 库 全局命名空间在模块中使用导出内容为export的内容
Export const aaa:string
其他模块可用 umd.aaa -->


